define("profilefield_phone/form",["exports","jquery"],(function(_exports,_jquery){var obj;
/**
   * Handle the ui of the phone field input.
   *
   * @module     profilefield_phone/form
   * @copyright  2025 Mohammad Farouk <phun.for.physics@gmail.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};class PhoneForm{searchTimeout;groupContainer;hiddenSelect;searchInput;currentSelectedValue;constructor(name,formid){let mform=(0,_jquery.default)("form#"+formid);this.groupContainer=mform.find('.profilefield_phone.phone-input-group.fitem[data-groupname="'+name+'"]'),this.hiddenSelect=this.groupContainer.find('select[name="'+name+'[code]"]'),this.groupContainer.find('div[data-fieldtype="group"] fieldset div.flex-wrap').removeClass("flex-wrap"),this.identifySearchInput()}register(){this.currentSelectedValue=this.hiddenSelect.val(),this.currentSelectedValue&&this.searchInput.attr("placeholder",this.getPhoneCode(this.currentSelectedValue));let self=this;this.hiddenSelect.on("change",(function(){self.currentSelectedValue=(0,_jquery.default)(this).val();let code=self.getPhoneCode(self.currentSelectedValue);self.searchInput.attr("placeholder",code)}))}getPhoneCode(country){return this.hiddenSelect.find('option[value="'+country+'"]').text().match(/\+\d+/g).shift()}identifySearchInput(){if(clearTimeout(this.searchTimeout),this.searchInput=this.groupContainer.find('input[type="text"][data-fieldtype="autocomplete"]'),this.searchInput.length>0)this.register();else{let freezed=this.groupContainer.find('span[data-fieldtype="autocomplete"]');if(freezed.length>0&&0===freezed.find("select").length)return void freezed.text(freezed.text().match(/\+\d+/g).shift());this.searchTimeout=setTimeout(this.identifySearchInput,100)}}}_exports.init=function(name,formid){new PhoneForm(name,formid)}}));

//# sourceMappingURL=form.min.js.map